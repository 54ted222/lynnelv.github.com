<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta name="keywords" content="吕彦蓉, lynnelv, Blog, 博客, 吕彦蓉的博客" />
		<meta name="Author" content="lynnelv" />
		<meta name="description" content="生成jekyll博文分类，因为github不支持插件，故只能让jekyll先在本地编译再push到github上。"/>
		<link rel="shortcut icon" href="/img/favicon.icon" />
		<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" media="screen" charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="/css/style.css" media="screen" charset="utf-8" />
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<title>First Blog &raquo; Lynnelv's Blog</title>
		<style type="text/css">
			#search-box {
				margin-top: 40px;
				border: 0 none;
				width: 180px;
			}
			.logo {
				display: block;
				width: 200px;
				top: 50px;
			}
			.navigator {
				margin-top: 40px;
				width: 180px;
			}
			.current {
				background: #eee !important;
			}
		</style>
	</head>

	<body class="home">
		<div class="container main">
			<div class="row">
				<div class="span2 side">
					<div class="head">
						<a href="/"><img src="/img/logo_lynnelv.png" alt="Lynnelv's Blog"></a>
					</div>
					<input id="search-box" type="text" placeholder="Searching..." />
					<ul class="navigator">
						
						<li><a href="/categories/笔记/">笔记</a></li>
						
					</ul>
				</div>
				<div class="span8 offset1 content">
					<h1>First Blog</h1>
					<p>2013-09-08&nbsp; &nbsp; | &nbsp; &nbsp; 分类：<a href="/categories/笔记">笔记</a></p>
<p>捣鼓了一天，终于搭好Blog架子了，以后可以用程序猿的思维写Blog了，其实上个月就开始搭建了，中途遇到一些问题，
像博文分类，原因是github不支持使用插件（_plugins/*），所以只有在让jekyll在本地编译好页面之后再push到github
上。具体实现：创建一个dev分支，dev分支保存的是未编译的源文件，作为以后的工作分支；master分支存放本地jekyll
生成的静态页面。先切换到master分支下：
<p><code>git checkout master</code></p>
<p><code>//新建一个.nojekyll文件（带.nojekyll的目录，github不会启用jekyll去build</code></p>
<p><code>touch .nojekyll</code></p>
然后切换回dev分支，让jekyll build页面，本地查看效果：
<p><code>git checkout dev</code></p>
<p><code>jekyll --server --auto</code></p>
通过访问http://localhost:4000访问build出来的页面，OK之后push到master分支：
<p><code>git checkout master</code></p>
<p><code>cp -r _site/* .</code></p>
<p><code>git add .</code></p>
<p><code>git commit -m 'post to master'</code></p>
<p><code>git push origin master</code></p>
现在可以通过http://github.com/youname访问了，不过需要提交两个分支。</p>

				</div>
			</div>
		</div>

		<div class="footer">
			<p>Copyright © 2013 lynnelv. <a href="http://weibo.com/lvyanrong" target="_blank">@飞鱼_笨懒懒</a></p>
		</div>

		<script type="text/javascript" charset="utf-8" src="/js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript">
			(function($) {
				$('.navigator').on('click', 'li', function(e) {
					$('.navigator li').removeClass('current');
					$(e.currentTarget).addClass('current');
				 });
				 $('#search-box').keydown(function(e) {
					 if (e.which == 13) {
						 var keyword = $(this).val();
						 $.ajax({
							url: '/search.xml',
							dataType: 'xml'
						}).done(function(data) {
							var match = $('article', data).map(function() {
								var regexp = new RegExp(keyword, "ig");
								if (regexp.test(title)) {
									return {
										url: $('url', this).text(),
										title: $('title', this).text(),
										date: $('date', this).text(),
										desc: $('desc', this).text()
									};
								}
							}).get();
						$('.content').html('').html(helper(match));
					});
					}
				});

				function helper(arr) {
					var list = '<dl>'
					for(var item in arr) {
						list += '<dt>'
						+ item.date + '   »  '
						+ '<a href=' + item.url + '>'
						+ item.title
						+ '<\/a><\/dt>'
						+ '<dd>'
						+ item.desc
						+ '<\/dd>'
					}
					list + '<\/dl>';
					return list;
				}

			})(jQuery);
		</script>
	</body>
</html>
